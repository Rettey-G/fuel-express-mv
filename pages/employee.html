<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Management - Fuel Express</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/employee.css">
    <link rel="stylesheet" href="../css/activities.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="../img/logo.png" alt="Fuel Express Logo" class="logo">
            <h1>Fuel Express Pvt. Ltd.</h1>
        </div>
        <nav>
            <ul>
                <li><a href="../index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="employee.html" class="active"><i class="fas fa-users"></i> Employees</a></li>
                <li><a href="attendance.html"><i class="fas fa-calendar-check"></i> Attendance</a></li>
                <li><a href="leave.html"><i class="fas fa-calendar-minus"></i> Leave</a></li>
                <li><a href="payroll.html"><i class="fas fa-money-bill-wave"></i> Payroll</a></li>
                <li><a href="recruitment.html"><i class="fas fa-user-plus"></i> Recruitment</a></li>
                <li><a href="reports.html"><i class="fas fa-chart-bar"></i> Reports</a></li>
                <li><a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <section class="employee-header">
            <h2>Employee Management</h2>
            <div class="employee-actions">
                <div class="search-container">
                    <input type="text" id="employee-search" placeholder="Search employees...">
                    <button id="search-btn"><i class="fas fa-search"></i></button>
                </div>
                <button id="add-employee-btn" class="btn primary-btn"><i class="fas fa-plus"></i> Add Employee</button>
                <button id="reset-data-btn" class="btn danger-btn"><i class="fas fa-undo"></i> Reset Data</button>
            </div>
        </section>

        <section class="employee-grid" id="employee-grid">
            <!-- Employee cards will be dynamically generated here -->
        </section>

        <!-- Employee Modal for Add/Edit -->
        <div id="employee-modal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h3 id="modal-title">Add New Employee</h3>
                <form id="employee-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="employee-no">Employee No (FEM)*</label>
                            <input type="text" id="employee-no" required>
                        </div>
                        <div class="form-group">
                            <label for="national-id">National ID/Passport*</label>
                            <input type="text" id="national-id" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="full-name">Full Name*</label>
                            <input type="text" id="full-name" required>
                        </div>
                        <div class="form-group">
                            <label for="gender">Gender*</label>
                            <select id="gender" required>
                                <option value="">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nationality">Nationality*</label>
                            <input type="text" id="nationality" required>
                        </div>
                        <div class="form-group">
                            <label for="date-of-birth">Date of Birth*</label>
                            <input type="date" id="date-of-birth" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="department">Department*</label>
                            <select id="department" required>
                                <option value="">Select Department</option>
                                <option value="Operations">Operations</option>
                                <option value="Finance">Finance</option>
                                <option value="HR">HR</option>
                                <option value="IT">IT</option>
                                <option value="Marketing">Marketing</option>
                                <option value="Sales">Sales</option>
                                <option value="Admin">Admin</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="position">Position*</label>
                            <input type="text" id="position" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="worksite">Work Site*</label>
                            <select id="worksite" required>
                                <option value="">Select Work Site</option>
                                <option value="Office">Office</option>
                                <option value="Station">Station</option>
                                <option value="Bowser">Bowser</option>
                                <option value="Field">Field</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="joined-date">Joined Date*</label>
                            <input type="date" id="joined-date" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">Phone Number*</label>
                            <input type="tel" id="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email">
                        </div>
                    </div>
                    
                    <fieldset>
                        <legend>Salary Information</legend>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="salary-mvr">Monthly Salary (MVR)*</label>
                                <input type="number" id="salary-mvr" min="0" step="100" required>
                            </div>
                            <div class="form-group">
                                <label for="salary-usd">Monthly Salary (USD)*</label>
                                <input type="number" id="salary-usd" min="0" step="100" required>
                            </div>
                        </div>
                    </fieldset>
                    
                    <div class="form-group">
                        <label for="photo">Photo</label>
                        <input type="file" id="photo" accept="image/*">
                        <div id="photo-preview" class="photo-preview"></div>
                    </div>
                    
                    <fieldset>
                        <legend>Bank Account Information</legend>
                        <h4>MVR Account</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="mvr-account-name">Account Name*</label>
                                <input type="text" id="mvr-account-name" required>
                            </div>
                            <div class="form-group">
                                <label for="mvr-account-number">Account Number*</label>
                                <input type="text" id="mvr-account-number" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="mvr-bank-name">Bank Name*</label>
                            <input type="text" id="mvr-bank-name" required value="Bank of Maldives">
                        </div>
                        
                        <h4>USD Account</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="usd-account-name">Account Name*</label>
                                <input type="text" id="usd-account-name" required>
                            </div>
                            <div class="form-group">
                                <label for="usd-account-number">Account Number*</label>
                                <input type="text" id="usd-account-number" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="usd-bank-name">Bank Name*</label>
                            <input type="text" id="usd-bank-name" required value="International Bank">
                        </div>
                    </fieldset>
                    
                    <fieldset>
                        <legend>Emergency Contact</legend>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="emergency-name">Name*</label>
                                <input type="text" id="emergency-name" required>
                            </div>
                            <div class="form-group">
                                <label for="emergency-relation">Relationship*</label>
                                <input type="text" id="emergency-relation" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="emergency-phone">Phone Number*</label>
                            <input type="tel" id="emergency-phone" required>
                        </div>
                    </fieldset>
                    
                    <div class="form-actions">
                        <button type="button" id="cancel-btn" class="btn secondary-btn">Cancel</button>
                        <button type="submit" id="save-btn" class="btn primary-btn">Save Employee</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- View Employee Modal -->
        <div id="view-employee-modal" class="modal">
            <div class="modal-content">
                <span class="close-view-btn">&times;</span>
                <div id="employee-details">
                    <!-- Employee details will be displayed here -->
                </div>
                <div class="modal-actions">
                    <button id="edit-from-view-btn" class="btn secondary-btn">Edit</button>
                    <button id="close-view-btn" class="btn primary-btn">Close</button>
                </div>
            </div>
        </div>

        <!-- Confirmation Modal for Delete -->
        <div id="confirm-modal" class="modal">
            <div class="modal-content confirm-content">
                <h3>Confirm Delete</h3>
                <p>Are you sure you want to delete this employee? This action cannot be undone.</p>
                <div class="confirm-actions">
                    <button id="cancel-delete-btn" class="btn secondary-btn">Cancel</button>
                    <button id="confirm-delete-btn" class="btn danger-btn">Delete</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>Fuel Express Pvt. Ltd.</h4>
                <p>Your trusted partner in fuel distribution and management.</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="employee.html">Employees</a></li>
                    <li><a href="attendance.html">Attendance</a></li>
                    <li><a href="leave.html">Leave</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <p><i class="fas fa-map-marker-alt"></i> 123 Fuel Street, Energy City</p>
                <p><i class="fas fa-phone"></i> +1 234 567 8900</p>
                <p><i class="fas fa-envelope"></i> hr@fuelexpress.com</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 Fuel Express Pvt. Ltd. All Rights Reserved.</p>
        </div>
    </footer>

    <script src="../js/session-manager.js"></script>
    <script>
        // Auto-login for direct dashboard access
        if (!localStorage.getItem('authToken')) {
            localStorage.setItem('authToken', 'admin');
        }
    </script>
    <script src="../data/employees.js"></script>
    <script src="../js/sample-data.js"></script>
    <script src="../js/department-division.js"></script>
    <script src="../js/employee.js"></script>
    <script src="../js/logout.js"></script>
    <!-- Add this in an appropriate location in the page layout -->
    <div class="activity-container" id="recent-activities">
        <!-- Activities will be loaded here by JavaScript -->
    </div>
    
    <!-- Add this before the closing </body> tag -->
    <script src="../js/activities.js"></script>
</body>
</html>