<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Management - Fuel Express</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/employee.css">
    <link rel="stylesheet" href="../css/activities.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="../img/logo.png" alt="Fuel Express Logo" class="logo">
            <h1>Fuel Express Pvt. Ltd.</h1>
        </div>
        <nav>
            <ul>
                <li><a href="../index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="employee.html" class="active"><i class="fas fa-users"></i> Employees</a></li>
                <li><a href="attendance.html"><i class="fas fa-calendar-check"></i> Attendance</a></li>
                <li><a href="leave.html"><i class="fas fa-calendar-minus"></i> Leave</a></li>
                <li><a href="payroll.html"><i class="fas fa-money-bill-wave"></i> Payroll</a></li>
                <li><a href="recruitment.html"><i class="fas fa-user-plus"></i> Recruitment</a></li>
                <li><a href="reports.html"><i class="fas fa-chart-bar"></i> Reports</a></li>
                <li><a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <section class="employee-header">
            <h2>Employee Management</h2>
            <div class="employee-actions">
                <div class="search-container">
                    <input type="text" id="employee-search" placeholder="Search employees...">
                    <button id="search-btn"><i class="fas fa-search"></i></button>
                </div>
                <button id="add-employee-btn" class="btn primary-btn"><i class="fas fa-plus"></i> Add Employee</button>
                <button id="reset-data-btn" class="btn danger-btn"><i class="fas fa-undo"></i> Reset Data</button>
            </div>
        </section>

        <section class="employee-grid" id="employee-grid">
            <!-- Employee cards will be dynamically generated here -->
        </section>

        <!-- Employee Modal for Add/Edit -->
        <div id="employee-modal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h3 id="modal-title">Add New Employee</h3>
                <form id="employee-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="employee-id">Employee ID</label>
                            <input type="text" id="employee-id" disabled>
                        </div>
                        <div class="form-group">
                            <label for="full-name">Full Name*</label>
                            <input type="text" id="full-name" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="department">Department*</label>
                            <select id="department" required>
                                <option value="">Select Department</option>
                                <option value="Operations">Operations</option>
                                <option value="Finance">Finance</option>
                                <option value="HR">HR</option>
                                <option value="IT">IT</option>
                                <option value="Marketing">Marketing</option>
                                <option value="Sales">Sales</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="position">Position*</label>
                            <input type="text" id="position" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">Phone Number*</label>
                            <input type="tel" id="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="hire-date">Hire Date*</label>
                            <input type="date" id="hire-date" required>
                        </div>
                        <div class="form-group">
                            <label for="salary">Monthly Salary (USD)*</label>
                            <input type="number" id="salary" min="0" step="100" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="photo">Photo</label>
                        <input type="file" id="photo" accept="image/*">
                        <div id="photo-preview" class="photo-preview"></div>
                    </div>
                    
                    <fieldset>
                        <legend>Emergency Contact</legend>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="emergency-name">Name*</label>
                                <input type="text" id="emergency-name" required>
                            </div>
                            <div class="form-group">
                                <label for="emergency-relation">Relationship*</label>
                                <input type="text" id="emergency-relation" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="emergency-phone">Phone Number*</label>
                            <input type="tel" id="emergency-phone" required>
                        </div>
                    </fieldset>
                    
                    <div class="form-actions">
                        <button type="button" id="cancel-btn" class="btn secondary-btn">Cancel</button>
                        <button type="submit" id="save-btn" class="btn primary-btn">Save Employee</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- View Employee Modal -->
        <div id="view-employee-modal" class="modal">
            <div class="modal-content">
                <span class="close-view-btn">&times;</span>
                <div id="employee-details">
                    <!-- Employee details will be displayed here -->
                </div>
                <div class="modal-actions">
                    <button id="edit-from-view-btn" class="btn secondary-btn">Edit</button>
                    <button id="close-view-btn" class="btn primary-btn">Close</button>
                </div>
            </div>
        </div>

        <!-- Confirmation Modal for Delete -->
        <div id="confirm-modal" class="modal">
            <div class="modal-content confirm-content">
                <h3>Confirm Delete</h3>
                <p>Are you sure you want to delete this employee? This action cannot be undone.</p>
                <div class="confirm-actions">
                    <button id="cancel-delete-btn" class="btn secondary-btn">Cancel</button>
                    <button id="confirm-delete-btn" class="btn danger-btn">Delete</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>Fuel Express Pvt. Ltd.</h4>
                <p>Your trusted partner in fuel distribution and management.</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="employee.html">Employees</a></li>
                    <li><a href="attendance.html">Attendance</a></li>
                    <li><a href="leave.html">Leave</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <p><i class="fas fa-map-marker-alt"></i> 123 Fuel Street, Energy City</p>
                <p><i class="fas fa-phone"></i> +1 234 567 8900</p>
                <p><i class="fas fa-envelope"></i> hr@fuelexpress.com</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 Fuel Express Pvt. Ltd. All Rights Reserved.</p>
        </div>
    </footer>

    <script src="../js/session-manager.js"></script>
    <script>
        // Auto-login for direct dashboard access
        if (!localStorage.getItem('authToken')) {
            localStorage.setItem('authToken', 'admin');
        }
    </script>
    <script src="../data/employees.js"></script>
    <script src="../js/sample-data.js"></script>
    <script src="../js/department-division.js"></script>
    <script src="../js/employee.js"></script>
    <script src="../js/logout.js"></script>
    <!-- Add this in an appropriate location in the page layout -->
    <div class="activity-container" id="recent-activities">
        <!-- Activities will be loaded here by JavaScript -->
    </div>
    
    <!-- Add this before the closing </body> tag -->
    <script src="../js/activities.js"></script>
</body>
</html>